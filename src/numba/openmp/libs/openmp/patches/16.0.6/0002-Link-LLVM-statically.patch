diff --git a/libomptarget/plugins-nextgen/CMakeLists.txt b/libomptarget/plugins-nextgen/CMakeLists.txt
index 95e359c..8946fe8 100644
--- a/libomptarget/plugins-nextgen/CMakeLists.txt
+++ b/libomptarget/plugins-nextgen/CMakeLists.txt
@@ -37,7 +37,7 @@ if(CMAKE_SYSTEM_PROCESSOR MATCHES "${tmachine}$")
     add_definitions("-DLIBOMPTARGET_NEXTGEN_GENERIC_PLUGIN_TRIPLE=${tmachine}")
 
     add_llvm_library("omptarget.rtl.${tmachine_libname}.nextgen"
-      SHARED
+      SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
       ${CMAKE_CURRENT_SOURCE_DIR}/../generic-elf-64bit/src/rtl.cpp
 
diff --git a/libomptarget/plugins-nextgen/amdgpu/CMakeLists.txt b/libomptarget/plugins-nextgen/amdgpu/CMakeLists.txt
index 8f234ee..435a8cd 100644
--- a/libomptarget/plugins-nextgen/amdgpu/CMakeLists.txt
+++ b/libomptarget/plugins-nextgen/amdgpu/CMakeLists.txt
@@ -66,7 +66,7 @@ else()
   set(LDFLAGS_UNDEFINED "-Wl,-z,defs")
 endif()
 
-add_llvm_library(omptarget.rtl.amdgpu.nextgen SHARED
+add_llvm_library(omptarget.rtl.amdgpu.nextgen SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
   src/rtl.cpp
   ${LIBOMPTARGET_EXTRA_SOURCE}
 
diff --git a/libomptarget/plugins-nextgen/common/PluginInterface/CMakeLists.txt b/libomptarget/plugins-nextgen/common/PluginInterface/CMakeLists.txt
index 91d64f4..db16105 100644
--- a/libomptarget/plugins-nextgen/common/PluginInterface/CMakeLists.txt
+++ b/libomptarget/plugins-nextgen/common/PluginInterface/CMakeLists.txt
@@ -24,36 +24,33 @@ endforeach()
 # This is required when using LLVM libraries.
 llvm_update_compile_flags(PluginInterface)
 
-if (LLVM_LINK_LLVM_DYLIB)
-  set(llvm_libs LLVM)
-else()
-  llvm_map_components_to_libnames(llvm_libs
-    ${LLVM_TARGETS_TO_BUILD}
-    AggressiveInstCombine
-    Analysis
-    BinaryFormat
-    BitReader
-    BitWriter
-    CodeGen
-    Core
-    Extensions
-    InstCombine
-    Instrumentation
-    IPO
-    IRReader
-    Linker
-    MC
-    Object
-    Passes
-    Remarks
-    ScalarOpts
-    Support
-    Target
-    TargetParser
-    TransformUtils
-    Vectorize
-  )
-endif()
+# Link LLVM libraries statically.
+llvm_map_components_to_libnames(llvm_libs
+  ${LLVM_TARGETS_TO_BUILD}
+  AggressiveInstCombine
+  Analysis
+  BinaryFormat
+  BitReader
+  BitWriter
+  CodeGen
+  Core
+  Extensions
+  InstCombine
+  Instrumentation
+  IPO
+  IRReader
+  Linker
+  MC
+  Object
+  Passes
+  Remarks
+  ScalarOpts
+  Support
+  Target
+  TargetParser
+  TransformUtils
+  Vectorize
+)
 
 target_link_libraries(PluginInterface
   PUBLIC
diff --git a/libomptarget/plugins-nextgen/cuda/CMakeLists.txt b/libomptarget/plugins-nextgen/cuda/CMakeLists.txt
index da19ec3..c2d6279 100644
--- a/libomptarget/plugins-nextgen/cuda/CMakeLists.txt
+++ b/libomptarget/plugins-nextgen/cuda/CMakeLists.txt
@@ -41,7 +41,7 @@ endif()
 if (LIBOMPTARGET_CAN_LINK_LIBCUDA AND NOT LIBOMPTARGET_FORCE_DLOPEN_LIBCUDA)
   libomptarget_say("Building CUDA NextGen plugin linked against libcuda")
   include_directories(${LIBOMPTARGET_DEP_CUDA_INCLUDE_DIRS})
-  add_llvm_library(omptarget.rtl.cuda.nextgen SHARED
+  add_llvm_library(omptarget.rtl.cuda.nextgen SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
     src/rtl.cpp
 
@@ -64,7 +64,7 @@ else()
   libomptarget_say("Building CUDA NextGen plugin for dlopened libcuda")
   include_directories(../../plugins/cuda/dynamic_cuda)
   add_llvm_library(omptarget.rtl.cuda.nextgen
-    SHARED
+    SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
     src/rtl.cpp
     ../../plugins/cuda/dynamic_cuda/cuda.cpp
diff --git a/libomptarget/plugins/CMakeLists.txt b/libomptarget/plugins/CMakeLists.txt
index 005a372..fef1aec 100644
--- a/libomptarget/plugins/CMakeLists.txt
+++ b/libomptarget/plugins/CMakeLists.txt
@@ -30,7 +30,7 @@ if(CMAKE_SYSTEM_PROCESSOR MATCHES "${tmachine}$")
     add_definitions("-DTARGET_ELF_ID=${elf_machine_id}")
 
     add_llvm_library("omptarget.rtl.${tmachine_libname}"
-      SHARED
+      SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
       ${CMAKE_CURRENT_SOURCE_DIR}/../generic-elf-64bit/src/rtl.cpp
 
@@ -90,4 +90,3 @@ add_subdirectory(remote)
 # Make sure the parent scope can see the plugins that will be created.
 set(LIBOMPTARGET_SYSTEM_TARGETS "${LIBOMPTARGET_SYSTEM_TARGETS}" PARENT_SCOPE)
 set(LIBOMPTARGET_TESTED_PLUGINS "${LIBOMPTARGET_TESTED_PLUGINS}" PARENT_SCOPE)
-
diff --git a/libomptarget/plugins/amdgpu/CMakeLists.txt b/libomptarget/plugins/amdgpu/CMakeLists.txt
index 1619f1e..299a25d 100644
--- a/libomptarget/plugins/amdgpu/CMakeLists.txt
+++ b/libomptarget/plugins/amdgpu/CMakeLists.txt
@@ -61,7 +61,7 @@ else()
   set(LDFLAGS_UNDEFINED "-Wl,-z,defs")
 endif()
 
-add_llvm_library(omptarget.rtl.amdgpu SHARED
+add_llvm_library(omptarget.rtl.amdgpu SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
   impl/impl.cpp
   impl/interop_hsa.cpp
   impl/data.cpp
@@ -121,4 +121,3 @@ else()
   libomptarget_say("Not generating amdgcn test targets as libhsa is not linkable")
   return()
 endif()
-
diff --git a/libomptarget/plugins/common/elf_common/CMakeLists.txt b/libomptarget/plugins/common/elf_common/CMakeLists.txt
index 54d28bc..b615359 100644
--- a/libomptarget/plugins/common/elf_common/CMakeLists.txt
+++ b/libomptarget/plugins/common/elf_common/CMakeLists.txt
@@ -18,11 +18,8 @@ add_library(elf_common OBJECT elf_common.cpp ELFSymbols.cpp)
 # This is required when using LLVM libraries.
 llvm_update_compile_flags(elf_common)
 
-if (LLVM_LINK_LLVM_DYLIB)
-  set(llvm_libs LLVM)
-else()
-  llvm_map_components_to_libnames(llvm_libs BinaryFormat Object Support)
-endif()
+# Link LLVM libraries statically.
+llvm_map_components_to_libnames(llvm_libs BinaryFormat Object Support)
 
 target_link_libraries(elf_common PUBLIC ${llvm_libs} ${OPENMP_PTHREAD_LIB})
 
diff --git a/libomptarget/plugins/cuda/CMakeLists.txt b/libomptarget/plugins/cuda/CMakeLists.txt
index 6d0b767..97e4bba 100644
--- a/libomptarget/plugins/cuda/CMakeLists.txt
+++ b/libomptarget/plugins/cuda/CMakeLists.txt
@@ -37,7 +37,7 @@ endif()
 if (LIBOMPTARGET_CAN_LINK_LIBCUDA AND NOT LIBOMPTARGET_FORCE_DLOPEN_LIBCUDA)
   libomptarget_say("Building CUDA plugin linked against libcuda")
   include_directories(${LIBOMPTARGET_DEP_CUDA_INCLUDE_DIRS})
-  add_llvm_library(omptarget.rtl.cuda SHARED
+  add_llvm_library(omptarget.rtl.cuda SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
     src/rtl.cpp
 
@@ -63,7 +63,7 @@ else()
   libomptarget_say("Building CUDA plugin for dlopened libcuda")
   include_directories(dynamic_cuda)
   add_llvm_library(omptarget.rtl.cuda 
-    SHARED
+    SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
     src/rtl.cpp
     dynamic_cuda/cuda.cpp
diff --git a/libomptarget/plugins/ve/CMakeLists.txt b/libomptarget/plugins/ve/CMakeLists.txt
index a949031..318f5e4 100644
--- a/libomptarget/plugins/ve/CMakeLists.txt
+++ b/libomptarget/plugins/ve/CMakeLists.txt
@@ -24,7 +24,7 @@ if(${LIBOMPTARGET_DEP_VEO_FOUND})
   add_definitions("-DTARGET_ELF_ID=${elf_machine_id}")
 
   add_llvm_library("omptarget.rtl.${tmachine_libname}" 
-    SHARED
+    SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
     ${CMAKE_CURRENT_SOURCE_DIR}/src/rtl.cpp
 
     ADDITIONAL_HEADER_DIRS
diff --git a/libomptarget/src/CMakeLists.txt b/libomptarget/src/CMakeLists.txt
index 2a6cd93..1e24f73 100644
--- a/libomptarget/src/CMakeLists.txt
+++ b/libomptarget/src/CMakeLists.txt
@@ -13,7 +13,7 @@
 libomptarget_say("Building offloading runtime library libomptarget.")
 
 add_llvm_library(omptarget
-  SHARED
+  SHARED DISABLE_LLVM_LINK_LLVM_DYLIB
 
   api.cpp
   device.cpp
